<section class="navbarContainer d-flex align-items-center justify-content-between">
  <div class="container-fluid d-flex align-items-center justify-content-between w-100">
    <a class="navbar-brand mx-2" href="#">Amplify</a>

    <div class="collapse d-md-none px-3 position-relative" id="mobileSearch">
      <div class="input-group mt-2">
        <span>
          <i class="bi bi-search"></i>
        </span>
        <input
          class="form-control text-center"
          type="search"
          placeholder="Search"
          aria-label="Search"
          (input)="onSearchInput($event)"
          (blur)="onSearchBlur()"
          (focus)="onSearchFocus()"
        />
      </div>

      <div
        *ngIf="filteredSongs.length"
        class="position-absolute bg-dark text-white w-100 mt-1 p-2 rounded shadow zindex-dropdown"
        style="top: 100%; left: 0"
      >
        <div *ngFor="let song of filteredSongs" class="py-1">
          {{ song.title }} - {{ song.artistName }}
        </div>
      </div>
    </div>

    <div
      class="d-none d-md-flex justify-content-center flex-grow-1 mx-1 position-relative"
      id="navbarSupportedContent"
    >
      <div class="input-group" id="searchbar">
        <span>
          <i class="bi bi-search"></i>
        </span>
        <input
          class="form-control text-center"
          type="search"
          placeholder="Search"
          aria-label="Search"
          (input)="onSearchInput($event)"
          (blur)="onSearchBlur()"
          (focus)="onSearchFocus()"
        />
      </div>

      <div
        *ngIf="filteredSongs.length"
        class="position-absolute bg-dark text-white w-75 mt-1 p-2 rounded shadow zindex-dropdown"
        style="top: 100%; left: 50%; transform: translateX(-50%)"
      >
        <div *ngFor="let song of filteredSongs" class="py-1">
          {{ song.title }} - {{ song.artistName }}
        </div>
      </div>
    </div>

    <button
      class="navbar-toggler d-md-none"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#mobileSearch"
      aria-controls="mobileSearch"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <i class="bi bi-search"></i>
    </button>
  </div>

  <!-- PROFILE MENU -->
  <div class="d-flex">
    <mat-menu #menu="matMenu">
      <a class="matMenuLink" mat-menu-item><mat-icon>settings</mat-icon>Setting</a>
      <a class="matMenuLink" (click)="logOut()" mat-menu-item><mat-icon>logout</mat-icon>Logout</a>
    </mat-menu>

    <button class="btn button-light" mat-button [matMenuTriggerFor]="menu">Profile</button>
  </div>
</section>
